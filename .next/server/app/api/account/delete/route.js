"use strict";(()=>{var e={};e.id=599,e.ids=[599],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6224:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>E,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{POST:()=>c});var o=r(49303),a=r(88716),n=r(60670),i=r(87070),u=r(30474);async function c(e){try{let{userId:t}=await e.json();if(!t)return i.NextResponse.json({error:"User ID is required"},{status:400});let r=(0,u.f)();await r.from("accountdeletionrequests").insert({userid:t,email:"deleted_user",createdat:new Date().toISOString()});let{error:s}=await r.auth.admin.deleteUser(t);if(s)throw s;return i.NextResponse.json({success:!0},{status:200})}catch(e){return console.error("Delete Account Error:",e),i.NextResponse.json({error:e.message},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/account/delete/route",pathname:"/api/account/delete",filename:"route",bundlePath:"app/api/account/delete/route"},resolvedPagePath:"C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\api\\account\\delete\\route.ts",nextConfigOutput:"export",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:h}=p,m="/api/account/delete/route";function E(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}},30474:(e,t,r)=>{r.d(t,{f:()=>n});var s=r(37857);let o="https://jpgifiumxqzbroejhudc.supabase.co",a=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!o)throw Error("Missing env NEXT_PUBLIC_SUPABASE_URL");if(!a)throw Error("Missing env SUPABASE_SERVICE_ROLE_KEY");let n=()=>(0,s.eI)(o,a,{auth:{autoRefreshToken:!1,persistSession:!1}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5972,7857],()=>r(6224));module.exports=s})();