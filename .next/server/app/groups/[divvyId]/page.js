(()=>{var e={};e.id=4680,e.ids=[4680],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},3233:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(33031),r(36852),r(50857);var a=r(23191),s=r(88716),n=r(37922),o=r.n(n),i=r(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["groups",{children:["[divvyId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,33031)),"C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\groups\\[divvyId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,36852)),"C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,50857)),"C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\not-found.tsx"]}],c=["C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\groups\\[divvyId]\\page.tsx"],u="/groups/[divvyId]/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/groups/[divvyId]/page",pathname:"/groups/[divvyId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},48422:(e,t,r)=>{Promise.resolve().then(r.bind(r,25294))},60162:(e,t,r)=>{Promise.resolve().then(r.bind(r,19395)),Promise.resolve().then(r.bind(r,40381))},41448:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},68663:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23))},25294:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a={};r.r(a);var s=r(10326),n=r(17577),o=r(35047);function i(e=0){let t=new Date;t.setMonth(t.getMonth()+e);let r=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0);return{s:`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`,e:`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}}function l(){let{from:e,to:t,setPeriod:r}=function(){let e=(0,o.useRouter)(),t=(0,o.usePathname)(),r=(0,o.useSearchParams)();return{from:r.get("from")||"",to:r.get("to")||"",setPeriod:function(a,s){let n=new URLSearchParams(r.toString());a?n.set("from",a):n.delete("from"),s?n.set("to",s):n.delete("to"),e.replace(`${t}?${n.toString()}`)}}}(),[a,l]=(0,n.useState)(e),[d,c]=(0,n.useState)(t),u=(0,n.useMemo)(()=>{let e=i(0),t=i(-1),r=function(){let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${a}`}(),a=new Date;a.setDate(a.getDate()-30);let s=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`;return[{label:"M\xeas atual",from:e.s,to:e.e},{label:"M\xeas anterior",from:t.s,to:t.e},{label:"\xdaltimos 30 dias",from:s,to:r},{label:"Tudo",from:"",to:""}]},[]);return(0,s.jsxs)("div",{className:"border rounded p-3 space-y-2",children:[s.jsx("div",{className:"font-semibold",children:"Per\xedodo"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(e=>s.jsx("button",{className:"border rounded px-3 py-1 text-sm",onClick:()=>r(e.from,e.to),type:"button",children:e.label},e.label))}),(0,s.jsxs)("div",{className:"grid gap-2 md:grid-cols-3 items-end",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-xs opacity-70 mb-1",children:"De"}),s.jsx("input",{className:"border rounded px-3 py-2 w-full",type:"date",value:a,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-xs opacity-70 mb-1",children:"At\xe9"}),s.jsx("input",{className:"border rounded px-3 py-2 w-full",type:"date",value:d,onChange:e=>c(e.target.value)})]}),s.jsx("button",{className:"border rounded px-3 py-2",onClick:()=>r(a,d),type:"button",children:"Aplicar"})]}),(e||t)&&(0,s.jsxs)("div",{className:"text-xs opacity-70",children:["Aplicado: ",s.jsx("b",{children:e||"..."})," at\xe9 ",s.jsx("b",{children:t||"..."})]})]})}function d(){let e=(0,o.useParams)(),t="string"==typeof e?.divvyId?e.divvyId:"",[r,i]=(0,n.useState)([]);return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(l,{}),s.jsx(a.GroupTabs,{divvyId:t,membersCount:r.length})]})}r(35442),r(38934),r(96030),r(69956)},38934:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var a=r(10326);r(17577);var s=r(30660),n=r(20751),o=r(78948),i=r(99630),l=r(44675),d=r(49844),c=r(18423),u=r(62637),x=r(9997),m=r(8564);let p={food:"Alimenta\xe7\xe3o",transport:"Transporte",accommodation:"Hospedagem",activity:"Atividades",utilities:"Contas",shopping:"Compras",other:"Outros"},g=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),h=["#059669","#0891b2","#7c3aed","#db2777","#ea580c","#facc15","#64748b"],b=({expenses:e,members:t=[]})=>{let r=e.reduce((e,t)=>e+t.amount,0),b=Object.entries(e.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+t.amount,e),{})).map(([e,t])=>({name:p[e]||e.charAt(0).toUpperCase()+e.slice(1),value:parseFloat(t.toFixed(2)),percentage:r>0?t/r*100:0})).sort((e,t)=>t.value-e.value),f=Object.entries(e.reduce((e,t)=>(e[t.paidbyuserid]=(e[t.paidbyuserid]||0)+t.amount,e),{})).map(([e,r])=>{let a=t.find(t=>t.userid===e);return{name:a?.userprofiles?.displayname||a?.userprofiles?.fullname||"Desconhecido",amount:parseFloat(r.toFixed(2))}}).sort((e,t)=>t.amount-e.amount);return 0===e.length?a.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:a.jsx("p",{children:"Sem dados suficientes para gerar gr\xe1ficos."})}):(0,a.jsxs)("div",{className:"space-y-12",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/2 h-[300px]",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 text-center md:text-left",children:"Por Categoria"}),a.jsx(s.h,{width:"100%",height:"100%",children:(0,a.jsxs)(n.u,{children:[a.jsx(o.b,{data:b,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",children:b.map((e,t)=>a.jsx(i.b,{fill:h[t%h.length]},`cell-${t}`))}),a.jsx(l.u,{formatter:(e,t,r)=>[`${g(e)} (${r.payload.percentage.toFixed(1)}%)`,t],contentStyle:{backgroundColor:"var(--tw-color-white, #fff)",borderRadius:"8px",border:"1px solid #e5e7eb",color:"#374151"}})]})})]}),(0,a.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-dark-900/50 rounded-xl p-4 mb-6 border border-gray-100 dark:border-dark-700",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Total Gasto"}),a.jsx("p",{className:"text-3xl font-black text-brand-600 dark:text-brand-400",children:g(r)})]}),a.jsx("div",{className:"space-y-3",children:b.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h[t%h.length]}}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:g(e.value)}),(0,a.jsxs)("span",{className:"text-xs text-gray-400 w-10 text-right",children:[e.percentage.toFixed(0),"%"]})]})]},e.name))})]})]}),f.length>0&&(0,a.jsxs)("div",{className:"pt-8 border-t border-gray-100 dark:border-dark-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Quem pagou o qu\xea?"}),a.jsx("div",{className:"h-[300px] w-full",children:a.jsx(s.h,{width:"100%",height:"100%",children:(0,a.jsxs)(d.v,{data:f,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(c.q,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e5e7eb",opacity:.3}),a.jsx(u.K,{type:"number",hide:!0}),a.jsx(x.B,{dataKey:"name",type:"category",width:100,tick:{fill:"#6b7280",fontSize:12},axisLine:!1,tickLine:!1}),a.jsx(l.u,{cursor:{fill:"transparent"},formatter:e=>[g(e),"Pagou"],contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"1px solid #e5e7eb",color:"#374151"}}),a.jsx(m.$,{dataKey:"amount",fill:"#7c3aed",radius:[0,4,4,0],barSize:30,background:{fill:"#f3f4f6",radius:[0,4,4,0]}})]})})})]})]})}},69956:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var a=r(10326);function s({type:e,message:t,onClose:r}){return(0,a.jsxs)("div",{className:"border rounded p-3 text-sm flex items-start justify-between gap-3",role:"error"===e?"alert":"status","aria-live":"polite",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-semibold",children:"success"===e?"Tudo certo":"error"===e?"Aten\xe7\xe3o":"Info"}),a.jsx("div",{className:"opacity-80 break-words",children:t})]}),r&&a.jsx("button",{className:"border rounded px-2 py-1 text-xs shrink-0",onClick:r,type:"button","aria-label":"Fechar aviso",children:"ok"})]})}r(17577)},96030:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(10326);function s({message:e="Nada por aqui ainda!",description:t="Toque no bot\xe3o 'Novo Grupo' para come\xe7ar a dividir gastos."}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 px-4 text-center animate-fade-in-up",children:[(0,a.jsxs)("div",{className:"relative mb-8",children:[a.jsx("div",{className:"absolute -inset-10 bg-brand-500/5 blur-[80px] rounded-full"}),(0,a.jsxs)("svg",{className:"w-48 h-48 text-gray-200 dark:text-dark-800 relative z-10",viewBox:"0 0 200 200",fill:"none",children:[a.jsx("circle",{cx:"100",cy:"100",r:"80",className:"fill-gray-50 dark:fill-dark-900/50"}),a.jsx("rect",{x:"65",y:"75",width:"70",height:"50",rx:"12",className:"stroke-gray-300 dark:stroke-dark-700 stroke-2 fill-white dark:fill-dark-800"}),a.jsx("path",{d:"M65 95 H135",className:"stroke-gray-200 dark:stroke-dark-700 stroke-2"}),a.jsx("g",{className:"animate-pulse",children:a.jsx("circle",{cx:"150",cy:"70",r:"3",className:"fill-brand-400"})})]})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-base max-w-sm mx-auto leading-relaxed",children:t})]})}r(17577)},19395:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>l,a:()=>d});var a=r(10326),s=r(17577),n=r(35442),o=r(35047);let i=(0,s.createContext)(void 0),l=({children:e})=>{let[t,r]=(0,s.useState)(null),[l,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),x=(0,o.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await n.O.auth.getSession();d(e),r(e?.user??null)}catch(e){console.error("Erro ao verificar sess\xe3o:",e)}finally{u(!1)}})();let{data:{subscription:e}}=n.O.auth.onAuthStateChange((e,t)=>{d(t),r(t?.user??null)});return()=>e.unsubscribe()},[]);let m=async(e,t)=>{let{error:r}=await n.O.auth.signInWithPassword({email:e,password:t});if(r)throw r},p=async(e,t,r)=>{let{data:a,error:s}=await n.O.auth.signUp({email:e,password:t,options:{data:{full_name:r}}});if(s)throw s;a.user&&await n.O.from("user_profiles").insert({id:a.user.id,email:e,full_name:r})},g=async()=>{let{error:e}=await n.O.auth.signOut();if(e)throw e;x.push("/auth/login")};return a.jsx(i.Provider,{value:{user:t,session:l,loading:c,login:m,signup:p,logout:g},children:e})},d=()=>{let e=(0,s.useContext)(i);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}},35442:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});let a=(0,r(59813).createClientComponentClient)()},33031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`C:\Users\bruno\Documents\GitHub\Divvy\app\groups\[divvyId]\page.tsx#default`)},36852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var a=r(19510),s=r(77366),n=r.n(s);r(67272);var o=r(68570);let i=(0,o.createProxy)(String.raw`C:\Users\bruno\Documents\GitHub\Divvy\hooks\useAuth.tsx#AuthProvider`);(0,o.createProxy)(String.raw`C:\Users\bruno\Documents\GitHub\Divvy\hooks\useAuth.tsx#useAuth`);var l=r(19125);let d={title:"Divvy - Divis\xe3o de Despesas",description:"Gerencie despesas em grupo sem complica\xe7\xf5es"};function c({children:e}){return a.jsx("html",{lang:"pt-BR",children:a.jsx("body",{className:n().className,children:(0,a.jsxs)(i,{children:[e,a.jsx(l.x7,{position:"top-right",toastOptions:{duration:4e3}})]})})})}},50857:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(19510),s=r(57371);r(71159);var n=r(55761),o=r(62386);let i=({className:e,variant:t="primary",size:r="md",fullWidth:s=!1,isLoading:i=!1,children:l,disabled:d,...c})=>(0,a.jsxs)("button",{className:function(...e){return(0,o.m6)((0,n.W)(e))}("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none dark:focus:ring-offset-gray-900",{primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 dark:bg-brand-600 dark:hover:bg-brand-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 focus:ring-gray-500 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500 dark:text-gray-300 dark:hover:bg-gray-800",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700"}[t],{sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"}[r],s?"w-full":"",e),disabled:d||i,...c,children:[i&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]});var l=r(72828),d=r(68385),c=r(5780),u=r.n(c);function x(){return a.jsx(u(),{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center px-4 text-center py-16",children:[(0,a.jsxs)("div",{className:"relative mb-8",children:[a.jsx("div",{className:"absolute -inset-4 bg-brand-500/20 blur-xl rounded-full"}),a.jsx(l.Z,{size:80,className:"text-brand-600 dark:text-brand-400 relative z-10"})]}),a.jsx("h1",{className:"text-6xl font-display font-black text-gray-900 dark:text-white mb-4 tracking-tighter",children:"404"}),a.jsx("h2",{className:"text-2xl font-display font-bold text-gray-800 dark:text-gray-200 mb-4",children:"P\xe1gina n\xe3o encontrada"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mb-8",children:"Ops! Parece que voc\xea se perdeu nas contas. A p\xe1gina que voc\xea est\xe1 procurando n\xe3o existe ou foi movida."}),a.jsx(s.default,{href:"/",children:(0,a.jsxs)(i,{size:"lg",className:"shadow-xl shadow-brand-500/20",children:[a.jsx(d.Z,{size:20,className:"mr-2"}),"Voltar para o In\xedcio"]})})]})})}},5780:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m You're importing a component that needs useState. It only works in a Client Component but none of its parents are marked with \"use client\", so they're Server Components by default.\n  \x1b[31m|\x1b[0m Learn more: https://nextjs.org/docs/getting-started/react-essentials\n  \x1b[31m|\x1b[0m \n  \x1b[31m|\x1b[0m \n   ,-[\x1b[36;1;4mC:\\Users\\bruno\\Documents\\GitHub\\Divvy\\components\\layout\\StaticPageLayout.tsx\x1b[0m:1:1]\n \x1b[2m1\x1b[0m | import React, { useState } from 'react';\n   : \x1b[31;1m                ^^^^^^^^\x1b[0m\n \x1b[2m2\x1b[0m | import Link from 'next/link';\n \x1b[2m3\x1b[0m | import { Menu, Moon, Sun, X } from 'lucide-react';\n \x1b[2m3\x1b[0m | import DivvyLogo from '../branding/DivvyLogo';\r\n   `----\n")},67272:()=>{},41135:(e,t,r)=>{"use strict";function a(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a)}return s}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{W:()=>a,Z:()=>s});let s=a}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,7343,3561],()=>r(3233));module.exports=a})();