(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},55061:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),t(66136),t(36852),t(50857);var r=t(23191),s=t(88716),d=t(37922),l=t.n(d),i=t(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(a,n);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,66136)),"C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,36852)),"C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,50857)),"C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\not-found.tsx"]}],o=["C:\\Users\\bruno\\Documents\\GitHub\\Divvy\\app\\admin\\page.tsx"],x="/admin/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},69136:(e,a,t)=>{Promise.resolve().then(t.bind(t,42941))},42941:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>E});var r=t(10326),s=t(17577),d=t(35047),l=t(35442),i=t(10732),n=t(3679),c=t(84231),o=t(46785),x=t(98965),h=t(40381),m=t(75290),u=t(60763),p=t(24319),g=t(24061),y=t(76557);let b=(0,y.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),k=(0,y.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),j=(0,y.Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),f=(0,y.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),v=(0,y.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var w=t(32933);let N=(0,y.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Z=(0,y.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var C=t(98091),S=t(37358),M=t(48998);function E(){let{user:e,session:a,loading:t}=(0,i.a)();(0,d.useRouter)();let[y,E]=(0,s.useState)("overview"),[z,D]=(0,s.useState)(!1),[P,L]=(0,s.useState)(!0),[_,q]=(0,s.useState)(null),[A,T]=(0,s.useState)([]),[G,$]=(0,s.useState)([]),[B,U]=(0,s.useState)([]),[H,R]=(0,s.useState)([]),[O,I]=(0,s.useState)(!1),[F,V]=(0,s.useState)(""),[J,W]=(0,s.useState)(""),[X,K]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)(""),[ee,ea]=(0,s.useState)(""),[et,er]=(0,s.useState)("all"),[es,ed]=(0,s.useState)(""),[el,ei]=(0,s.useState)(""),[en,ec]=(0,s.useState)(!1),eo=(0,s.useCallback)(()=>({"Content-Type":"application/json",Authorization:`Bearer ${a?.access_token}`}),[a]),ex=(0,s.useCallback)(async e=>{if(a?.access_token){I(!0);try{if("overview"===e){let e=await fetch("/api/admin/stats",{headers:eo()});if(!e.ok)throw Error((await e.json()).error||"Falha ao carregar estat\xedsticas");q(await e.json())}else if("users"===e){let e=await fetch("/api/admin/users",{headers:eo()});if(!e.ok)throw Error((await e.json()).error||"Falha ao carregar usu\xe1rios");T(await e.json())}else if("groups"===e){let e=await fetch("/api/admin/groups",{headers:eo()});if(!e.ok)throw Error((await e.json()).error||"Falha ao carregar grupos");$(await e.json())}else if("tickets"===e){let{data:e,error:a}=await l.O.from("supporttickets").select("*").order("createdat",{ascending:!1});if(a)throw a;U(e||[])}else if("broadcast"===e){let e=await fetch("/api/admin/broadcasts/list",{headers:eo()});if(!e.ok)throw Error((await e.json()).error||"Falha ao carregar mensagens");R(await e.json())}}catch(e){console.error(e),h.ZP.error(e.message||"Erro ao carregar dados")}finally{I(!1)}}},[a,eo]),eh=async e=>{e.preventDefault(),ec(!0);try{let e={title:Q,body:ee,target:et,starts_at:es||new Date().toISOString(),ends_at:el||null},a=await fetch("/api/admin/broadcast",{method:"POST",headers:eo(),body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error(e.error||"Erro ao enviar broadcast")}h.ZP.success("Mensagem programada/enviada com sucesso!"),K(!1),Y(""),ea(""),ed(""),ei(""),ex("broadcast")}catch(e){h.ZP.error("Erro: "+e.message)}finally{ec(!1)}},em=async e=>{if(confirm("Tem certeza que deseja excluir esta mensagem? Ela deixar\xe1 de aparecer para todos os usu\xe1rios imediatamente."))try{if(!(await fetch(`/api/admin/broadcasts/${e}`,{method:"DELETE",headers:eo()})).ok)throw Error("Erro ao excluir");h.ZP.success("Mensagem exclu\xedda."),R(H.filter(a=>a.id!==e))}catch(e){h.ZP.error(e.message)}},eu=async e=>{if(confirm("Marcar este ticket como resolvido e excluir?"))try{if(!(await fetch(`/api/admin/tickets/${e}`,{method:"DELETE",headers:eo()})).ok)throw Error("Falha ao resolver");h.ZP.success("Ticket resolvido"),U(B.filter(a=>a.id!==e))}catch(e){h.ZP.error(e.message)}},ep=async(e,a)=>{let t="suspended"===a?"active":"suspended";if(confirm(`Tem certeza que deseja ${"active"===t?"Reativar":"Suspender"} este usu\xe1rio?`))try{if(!(await fetch(`/api/admin/users/${e}/status`,{method:"POST",headers:eo(),body:JSON.stringify({status:t})})).ok)throw Error("Falha ao alterar status");T(A.map(a=>a.id===e?{...a,status:t}:a)),h.ZP.success(`Usu\xe1rio ${"active"===t?"reativado":"suspenso"}.`)}catch(e){h.ZP.error(e.message)}},eg=async e=>{if("DELETAR"===prompt("Para confirmar a exclus\xe3o deste grupo, digite 'DELETAR':"))try{if(!(await fetch("/api/admin/groups",{method:"DELETE",headers:eo(),body:JSON.stringify({id:e})})).ok)throw Error("Falha ao deletar grupo");$(G.filter(a=>a.id!==e)),h.ZP.success("Grupo exclu\xeddo.")}catch(e){h.ZP.error(e.message)}},ey=A.filter(e=>(e.email||"").toLowerCase().includes(F.toLowerCase())||(e.fullname||"").toLowerCase().includes(F.toLowerCase())),eb=G.filter(e=>(e.name||"").toLowerCase().includes(J.toLowerCase())),ek=e=>{let a=new Date,t=new Date(e.starts_at?e.starts_at:e.createdat),r=e.ends_at?new Date(e.ends_at):null;return r&&a>r?{label:"Expirado",color:"bg-red-100 text-red-700"}:a<t?{label:"Agendado",color:"bg-yellow-100 text-yellow-700"}:{label:"Ativo",color:"bg-green-100 text-green-700"}};return t||P?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-dark-950 text-gray-500 gap-4",children:[r.jsx(m.Z,{className:"animate-spin text-brand-600",size:40}),r.jsx("p",{children:"Verificando permiss\xf5es administrativas..."})]}):z?(0,r.jsxs)(x.i,{children:[r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-950 pb-20",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-brand-600 p-3 rounded-xl shadow-lg shadow-brand-500/30",children:r.jsx(u.Z,{size:32,className:"text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Painel Administrativo"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Controle total do sistema Divvy"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-white dark:bg-dark-900 py-2 px-4 rounded-full border border-gray-200 dark:border-dark-800 shadow-sm text-green-600 dark:text-green-400",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Admin Conectado: ",e?.email]})]}),r.jsx("div",{className:"flex overflow-x-auto gap-2 mb-8 pb-2 scrollbar-hide border-b border-gray-200 dark:border-dark-800",children:[{id:"overview",label:"Vis\xe3o Geral",icon:p.Z},{id:"users",label:"Usu\xe1rios",icon:g.Z},{id:"groups",label:"Grupos",icon:b},{id:"tickets",label:"Tickets",icon:k,count:B.length},{id:"broadcast",label:"Broadcast",icon:j}].map(e=>(0,r.jsxs)("button",{onClick:()=>E(e.id),className:`flex items-center gap-2 px-6 py-3 rounded-t-lg font-medium transition-all whitespace-nowrap ${y===e.id?"bg-white dark:bg-dark-900 text-brand-600 border-b-2 border-brand-600":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(e.icon,{size:18}),e.label,e.count?r.jsx("span",{className:"ml-1 bg-red-500 text-white text-[10px] px-1.5 rounded-full",children:e.count}):null]},e.id))}),(0,r.jsxs)("div",{className:"animate-fade-in-up",children:["overview"===y&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-dark-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-800 flex items-center justify-between relative overflow-hidden group",children:[(0,r.jsxs)("div",{className:"relative z-10",children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Usu\xe1rios Totais"}),r.jsx("p",{className:"text-4xl font-black text-gray-900 dark:text-white mt-2",children:O?"...":_?.totalUsers||0})]}),r.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(g.Z,{size:32})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-dark-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-800 flex items-center justify-between group",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Grupos Totais"}),r.jsx("p",{className:"text-4xl font-black text-gray-900 dark:text-white mt-2",children:O?"...":_?.totalDivvies||0})]}),r.jsx("div",{className:"w-16 h-16 bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(f,{size:32})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-dark-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-800 flex items-center justify-between group",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Grupos Ativos"}),r.jsx("p",{className:"text-4xl font-black text-green-600 dark:text-green-400 mt-2",children:O?"...":_?.activeGroups||0})]}),r.jsx("div",{className:"w-16 h-16 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:r.jsx(f,{size:32})})]})]}),"users"===y&&(0,r.jsxs)("div",{className:"bg-white dark:bg-dark-900 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-800 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-100 dark:border-dark-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Gerenciar Usu\xe1rios"}),(0,r.jsxs)("div",{className:"relative w-full sm:w-64",children:[r.jsx(v,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:F,onChange:e=>V(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-800 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-dark-800 text-gray-500 dark:text-gray-400 font-medium",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4",children:"Usu\xe1rio"}),r.jsx("th",{className:"px-6 py-4",children:"Email"}),r.jsx("th",{className:"px-6 py-4",children:"Cadastro"}),r.jsx("th",{className:"px-6 py-4",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-center",children:"A\xe7\xf5es"})]})}),r.jsx("tbody",{children:O?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-400",children:"Carregando..."})}):0===ey.length?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-400",children:"Nenhum usu\xe1rio encontrado."})}):ey.map(e=>(0,r.jsxs)("tr",{className:"border-t border-gray-100 dark:border-dark-800",children:[r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-100 dark:bg-dark-800 flex items-center justify-center overflow-hidden text-gray-500",children:e.avatarurl?r.jsx("img",{src:e.avatarurl,alt:e.fullname,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-sm font-bold",children:(e.fullname||e.email||"?").charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:e.fullname||e.displayname||"Sem nome"}),r.jsx("p",{className:"text-xs text-gray-500",children:e.id})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300",children:e.email}),r.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(e.createdat).toLocaleDateString("pt-BR")}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${"suspended"===e.status?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:"suspended"===e.status?"Suspenso":"Ativo"})}),r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>ep(e.id,e.status),className:`p-2 rounded-lg ${"suspended"===e.status?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,title:"suspended"===e.status?"Reativar usu\xe1rio":"Suspender usu\xe1rio",children:"suspended"===e.status?r.jsx(w.Z,{size:16}):r.jsx(N,{size:16})}),e.email&&r.jsx("a",{href:`mailto:${e.email}`,className:"p-2 rounded-lg bg-gray-100 text-gray-600",title:"Enviar email",children:r.jsx(Z,{size:16})})]})})]},e.id))})]})})]}),"groups"===y&&(0,r.jsxs)("div",{className:"bg-white dark:bg-dark-900 rounded-2xl shadow-sm border border-gray-100 dark:border-dark-800 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-100 dark:border-dark-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Gerenciar Grupos"}),(0,r.jsxs)("div",{className:"relative w-full sm:w-64",children:[r.jsx(v,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nome do grupo...",value:J,onChange:e=>W(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-dark-700 bg-gray-50 dark:bg-dark-800 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-dark-800 text-gray-500 dark:text-gray-400 font-medium",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4",children:"Grupo"}),r.jsx("th",{className:"px-6 py-4",children:"Criador"}),r.jsx("th",{className:"px-6 py-4",children:"Criado em"}),r.jsx("th",{className:"px-6 py-4 text-center",children:"A\xe7\xf5es"})]})}),r.jsx("tbody",{children:O?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-10 text-center text-gray-400",children:"Carregando..."})}):0===eb.length?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-10 text-center text-gray-400",children:"Nenhum grupo encontrado."})}):eb.map(e=>(0,r.jsxs)("tr",{className:"border-t border-gray-100 dark:border-dark-800",children:[(0,r.jsxs)("td",{className:"px-6 py-4",children:[r.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500",children:e.id})]}),r.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300",children:e.creator_email||e.creatorid}),r.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(e.createdat).toLocaleDateString("pt-BR")}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("button",{onClick:()=>eg(e.id),className:"p-2 rounded-lg bg-red-50 text-red-600",title:"Excluir grupo",children:r.jsx(C.Z,{size:16})})})]},e.id))})]})})]}),"tickets"===y&&r.jsx("div",{className:"space-y-4",children:O?r.jsx("div",{className:"text-center text-gray-400 py-10",children:"Carregando..."}):0===B.length?r.jsx("div",{className:"text-center text-gray-400 py-10",children:"Nenhum ticket aberto."}):B.map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-dark-900 p-6 rounded-2xl border border-gray-100 dark:border-dark-800 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:e.subject}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.message}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-400 mt-3",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[r.jsx(S.Z,{size:12})," ",new Date(e.createdat).toLocaleDateString("pt-BR")]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[r.jsx(M.Z,{size:12})," ",new Date(e.createdat).toLocaleTimeString("pt-BR")]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(n.z,{variant:"outline",onClick:()=>eu(e.id),children:[r.jsx(w.Z,{size:16,className:"mr-2"})," Resolver"]}),(0,r.jsxs)("a",{href:`mailto:${e.email}`,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-brand-600 text-white text-sm",children:[r.jsx(Z,{size:16})," Responder"]})]})]},e.id))}),"broadcast"===y&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Mensagens Broadcast"}),(0,r.jsxs)(n.z,{onClick:()=>K(!0),className:"flex items-center gap-2",children:[r.jsx(j,{size:16})," Nova Mensagem"]})]}),r.jsx("div",{className:"grid gap-4",children:O?r.jsx("div",{className:"text-center text-gray-400 py-10",children:"Carregando..."}):0===H.length?r.jsx("div",{className:"text-center text-gray-400 py-10",children:"Nenhuma mensagem encontrada."}):H.map(e=>{let a=ek(e);return r.jsx("div",{className:"bg-white dark:bg-dark-900 p-6 rounded-2xl border border-gray-100 dark:border-dark-800",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:e.title}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.body}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-400 mt-4",children:[r.jsx("span",{className:`px-2 py-1 rounded-full ${a.color}`,children:a.label}),(0,r.jsxs)("span",{children:["Target: ",e.target]}),(0,r.jsxs)("span",{children:["In\xedcio: ",new Date(e.starts_at||e.createdat).toLocaleString("pt-BR")]})]})]}),r.jsx("button",{onClick:()=>em(e.id),className:"p-2 rounded-lg bg-red-50 text-red-600",title:"Excluir mensagem",children:r.jsx(C.Z,{size:16})})]})},e.id)})})]})]})]})}),r.jsx(o.u,{isOpen:X,onClose:()=>K(!1),title:"Nova Mensagem Broadcast",children:(0,r.jsxs)("form",{onSubmit:eh,className:"space-y-4",children:[r.jsx(c.I,{label:"T\xedtulo",value:Q,onChange:e=>Y(e.target.value),required:!0}),r.jsx(c.I,{label:"Mensagem",value:ee,onChange:e=>ea(e.target.value),required:!0}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(c.I,{label:"In\xedcio",type:"datetime-local",value:es,onChange:e=>ed(e.target.value)}),r.jsx(c.I,{label:"Fim",type:"datetime-local",value:el,onChange:e=>ei(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"P\xfablico"}),(0,r.jsxs)("select",{value:et,onChange:e=>er(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-900",children:[r.jsx("option",{value:"all",children:"Todos"}),r.jsx("option",{value:"active",children:"Usu\xe1rios ativos"}),r.jsx("option",{value:"inactive30",children:"Inativos h\xe1 30 dias"})]})]}),r.jsx(n.z,{type:"submit",fullWidth:!0,isLoading:en,children:"Enviar Broadcast"})]})})]}):null}},76557:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var r=t(17577),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,a)=>{let t=(0,r.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:o,...x},h)=>(0,r.createElement)("svg",{ref:h,...s,width:l,height:l,stroke:t,strokeWidth:n?24*Number(i)/Number(l):i,className:["lucide",`lucide-${d(e)}`,c].join(" "),...x},[...a.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(o)?o:[o]]));return t.displayName=`${e}`,t}},6507:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},37358:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},32933:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},48998:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},28916:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},71821:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},18019:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},24319:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},75290:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},71810:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},90748:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},72607:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},60763:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},60850:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},98091:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},79635:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24061:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},94019:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(76557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},66136:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\bruno\Documents\GitHub\Divvy\app\admin\page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[9276,7343,4118,4562],()=>t(55061));module.exports=r})();